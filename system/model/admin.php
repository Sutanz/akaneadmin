<?php
/*
 *
 * Model Class for table admin
 * generated on 16 June 2017 05:35:01
 *
 *
 * This file is auto generated by Akane Console Tools
 * you can customize it to your need
 * for more information
 * type command "php console" from Akane directory on Terminal console
 * 
 */
class admin
{
	var $main;
	
	function __construct() {
		$this->main = get_instance();
	}
	
	function single($id){
		return $this->main->db->get_data('admin', '', "id='$id'");
	}
	
	function name($id){
		$data = $this->main->db->get_data('admin', '', "id='$id'");
		return $data[0]['name']; # change this to field that contain name
	}

	function login($username, $password){
		$data = $this->main->db->get_data('admin', '', "username='$username' AND password='$password'");
		return $data;
	}

	function all($limit='',$keyword=''){
		$where = '';
		if ($keyword!=''){
			# please change this searchable column name to your need
			$searchable = array('username','nama');

			if (count($searchable) > 1){
				$wheres = array();
				foreach ($searchable as $field){
					$wheres[] = $field." LIKE '%".$keyword."%'";
				}
				$where = implode(' OR ',$wheres);
			} else {
				$where = $searchable[0]." LIKE '%".$keyword."%'";
			}
		}
		$data = $this->main->db->get_data('admin', '', $where, '', $limit);
		return $data;
	}	
}
